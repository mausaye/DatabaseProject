<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href='help.css'>
    <link rel="icon" href='./Images/bb_logo(black).png' type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <script src="server.js"></script>
</head>
<title>Fill Out Request Information </title>

<body>

    <header>
        <nav>
            <div class="header-logo"><img src="./Images/bb_logo(black).png"></div>
            <div class="header-list">
                <ul>
                    <li><a href="help.html">Request Blood</a></li>
                    <li><a href="donate.html">Donate</a></li>
                    <li><a href="index.html#vol-sect"> Our Volunteers!</a></li>
                </ul>
            </div>
        </nav>
    </header>



    <main>
        <form action = " ">
        <div class="container">
            <div class="contact-box">
                <div class="left"></div>
                <div class="right">
                    <h2>Fill out Blood Request Info Below:</h2>
            
                    <input type="text" id="name" class="field" name="name" placeholder="Your Name">
                    <input type="text" id= "email" class="field" name="email" placeholder="Your Email">
                    <input type="text" id="phone" class="field" name="phone" placeholder="Phone">
                    <textarea placeholder="Message" id = "message" class="field"></textarea>
                    <div class="row">
                        <div class="col s12 m4 l4">
                            <label class="field">Blood Group:</label>
                            <div>
                            <select class="field" name="blood" id="bloodtype" class="validate" required>
                                <option value="">Select</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="O">O</option>
                                <option value="AB">AB</option>
                            </select>
                            </div>
                       
                            <label class="field" >Rh Factor:</label>
                            <p class=" white-text">
                                <label>
                                    <input class="with-gap white-text white" id= "postive" value="+" name="rh" type="radio" required />
                                    <span class="white-text">Positive</span>
                                </label>
                                <label>
                                    <input class="with-gap white-text white" id ="negative" value="-" name="rh" type="radio" required />
                                    <span class="white-text">Negetive</span>
                                </label>
                            </p>
                    <button class="btn" type="submit" >Submit</button>
                    <script>
                        
                        
                        function handleSubmit(event) {
                                //alert("hi"); ---checked this to get data
                                event.preventDefault();

                                const data = new FormData(event.target);
                                
                                const value = Object.fromEntries(data.entries());
                                const jsonOb = {
                                        type: "SELECT",
                                        data: { 
                                            table: "DONOR",
                                            blood: data.entries().blood,
                                            email: data.entries().email,
                                            name: data.entries().name,
                                            phone: data.entries().phone,
                                            rh: data.entries().rh
                                        },
                                        conditions: ""
                                }

                                console.log({ value });

                                sendSubmitRequest(jsonOb);
                            }

                                const form = document.querySelector('form');
                                form.addEventListener('submit', handleSubmit);
                    </script>
        
                    </div>
             </div>
            </div>
        </form>
    </main>


</body>

</html>
